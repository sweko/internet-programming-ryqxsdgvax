<div class="student-details">
  <h1>Student Details</h1>

  <div *ngIf="student; else loading">
    <!-- Personal Information -->
    <section class="personal-info">
      <h2>Personal Information</h2>
      <p><strong>Student ID:</strong> {{ student.studentId }}</p>
      <p>
        <strong>Full Name:</strong> {{ student.firstName }}
        {{ student.lastName }}
      </p>
      <p><strong>Date of Birth:</strong> {{ student.dateOfBirth }}</p>
      <p><strong>Email:</strong> {{ student.email }}</p>
      <p><strong>Degree:</strong> {{ student.degree }}</p>
      <p>
        <strong>Year of Study:</strong>
        {{ student.year?.toString() || "Not Available" }}
      </p>
    </section>

    <!-- Academic Information -->
    <section class="academic-info">
      <h2>Academic Information</h2>
      <table>
        <thead>
          <tr>
            <th>Course Name</th>
            <th>Year</th>
            <th>Semester</th>
            <th>Grade</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let course of student.courses">
            <td>{{ course.code }}</td>
            <td>{{ course.yearOfStudy }}</td>
            <td>{{ course.semester }}</td>
            <td>
              {{ course.grade ? course.grade.percentage + "%" : "Not Graded" }}
            </td>
          </tr>
        </tbody>
      </table>
      <p><strong>Average Grade:</strong> {{ averageGrade }}</p>
      <p><strong>Success Rate:</strong> {{ successRate }}%</p>
    </section>

    <!-- Actions -->
    <div class="actions">
      <button (click)="editStudent()">Edit</button>
      <button (click)="deleteStudent()">Delete</button>
      <button (click)="goBack()">Back to List</button>
    </div>
  </div>

  <ng-template #loading>
    <p>Loading student details...</p>
  </ng-template>
</div>
